<!DOCTYPE html>
<meta charset="utf-8">

<style>

    body {
      font: 10px sans-serif;
    }
    
    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }
    
    .bar {
      fill: orange;
    }
    
    .bar:hover {
      fill: orangered ;
    }
    
    .x.axis path {
      display: none;
    }
    
    </style>

<!-- Load d3.js -->
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://d3js.org/d3.v4.js"></script>

<!-- Create a div where the graph will take place -->

<h2> Demostration for the weather application </h2>

<div id="my_dataviz_day"></div>
<div id="my_dataviz_hour"></div>
<div id="my_dataviz_minute"></div>

<script>

    var data1 = {{{sensordata1}}} ;

    // set the dimensions and margins of the graph
    var margin = { top: 30, right: 30, bottom: 30, left: 30 },
        width = 600 - margin.left - margin.right,
        height =600 - margin.top - margin.bottom;

    // append the svg object to the body1 of the page
    var svg1 = d3.select("#my_dataviz_day")
        .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform",
            "translate(" + margin.left + "," + margin.top + ")");

    //Read the data
    // Add x1axis --> it is a date format
    var x1 = d3.scaleLinear()
        .domain([0, d3.max(data1, function (d) { return d.sensorday; })])
        .range([0, width]);
    svg1.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x1));

    // Add y1 axis
    var y1 = d3.scaleLinear()
        .domain([0, d3.max(data1, function (d) { return d.num_obs_day; })])
        .range([height, 0]);
    svg1.append("g")
        .call(d3.axisLeft(y1));

    // Add the line
    svg1.append("path")
        .datum(data1)
        .attr("fill", "none")
        .attr("stroke", "steelblue")
        .attr("stroke-width", 2)
        .attr("d", d3.line()
            .x(function (d) { return x1(d.sensorday) })
            .y(function (d) { return y1(d.num_obs_day) })
        )

    svg1.append("text")
        .attr("x", (width / 2))             
        .attr("y", 0 + (height * 3 / 4))
        .attr("text-anchor", "middle")  
        .style("font-size", "16px") 
        .text("Temperature Distributions by every 60 minutes");

</script>